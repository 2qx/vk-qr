!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):t.qrCodeGenerator=r()}(this,function(){"use strict";var I=new function(){var o=this;this.qrBorder=7,this.tileSize=96,this.incTileSize=96,this.minImageTiles=5,this.QrCode=function(c,g,t,r){if(c<m||E<c)throw"Version value out of range";if(r<-1||7<r)throw"Mask value out of range";if(!(g instanceof w))throw"QrCode.Ecc expected";for(var _=4*c+17,e=[],n=0;n<_;n++)e.push(!1);var l=[],h=[];for(n=0;n<_;n++)l.push(e.slice()),h.push(e.slice());if(function(){for(var t=0;t<_;t++)u(6,t,t%2==0),u(t,6,t%2==0);s(3,3),s(_-4,3),s(3,_-4);for(var r=function(){{if(1==c)return[];for(var t=Math.floor(c/7)+2,r=32==c?26:2*Math.ceil((_-13)/(2*t-2)),e=[6],n=_-7;e.length<t;n-=r)e.splice(1,0,n);return e}}(),e=r.length,t=0;t<e;t++)for(var n=0;n<e;n++)0==t&&0==n||0==t&&n==e-1||t==e-1&&0==n||f(r[t],r[n]);a(0),function(){if(c<7)return;for(var t=c,r=0;r<12;r++)t=t<<1^7973*(t>>>11);var e=c<<12|t;if(e>>>18!=0)throw"Assertion error";for(var r=0;r<18;r++){var n=v(e,r),i=_-11+r%3,o=Math.floor(r/3);u(i,o,n),u(o,i,n)}}()}(),function(t){if(t.length!=Math.floor(p.getNumRawDataModules(c)/8))throw"Invalid argument";for(var r=0,e=_-1;1<=e;e-=2){6==e&&(e=5);for(var n=0;n<_;n++)for(var i=0;i<2;i++){var o=e-i,a=0==(e+1&2),s=a?_-1-n:n;!h[s][o]&&r<8*t.length&&(l[s][o]=v(t[r>>>3],7-(7&r)),r++)}}if(r!=8*t.length)throw"Assertion error"}(function(t){if(t.length!=p.getNumDataCodewords(c,g))throw"Invalid argument";for(var r=p.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][c],e=p.ECC_CODEWORDS_PER_BLOCK[g.ordinal][c],n=Math.floor(p.getNumRawDataModules(c)/8),i=r-n%r,o=Math.floor(n/r),a=[],s=new M(e),h=0,l=0;h<r;h++){var f=t.slice(l,l+o-e+(h<i?0:1));l+=f.length;var u=s.getRemainder(f);h<i&&f.push(0),a.push(f.concat(u))}for(var d=[],h=0;h<a[0].length;h++)for(var C=0;C<a.length;C++)(h!=o-e||i<=C)&&d.push(a[C][h]);if(d.length!=n)throw"Assertion error";return d}(t)),-1==r){var i=1/0;for(n=0;n<8;n++){d(n),a(n);var o=C();o<i&&(r=n,i=o),d(n)}}if(r<0||7<r)throw"Assertion error";function a(t){for(var r=g.formatBits<<3|t,e=r,n=0;n<10;n++)e=e<<1^1335*(e>>>9);var i=21522^(r<<10|e);if(i>>>15!=0)throw"Assertion error";for(n=0;n<=5;n++)u(8,n,v(i,n));u(8,7,v(i,6)),u(8,8,v(i,7)),u(7,8,v(i,8));for(n=9;n<15;n++)u(14-n,8,v(i,n));for(n=0;n<8;n++)u(_-1-n,8,v(i,n));for(n=8;n<15;n++)u(8,_-15+n,v(i,n));u(8,_-8,!0)}function s(t,r){for(var e=-4;e<=4;e++)for(var n=-4;n<=4;n++){var i=Math.max(Math.abs(n),Math.abs(e)),o=t+n,a=r+e;0<=o&&o<_&&0<=a&&a<_&&u(o,a,2!=i&&4!=i)}}function f(t,r){for(var e=-2;e<=2;e++)for(var n=-2;n<=2;n++)u(t+n,r+e,1!=Math.max(Math.abs(n),Math.abs(e)))}function u(t,r,e){l[r][t]=e,h[r][t]=!0}function d(t){if(t<0||7<t)throw"Mask value out of range";for(var r=0;r<_;r++)for(var e=0;e<_;e++){var n;switch(t){case 0:n=(e+r)%2==0;break;case 1:n=r%2==0;break;case 2:n=e%3==0;break;case 3:n=(e+r)%3==0;break;case 4:n=(Math.floor(e/3)+Math.floor(r/2))%2==0;break;case 5:n=e*r%2+e*r%3==0;break;case 6:n=(e*r%2+e*r%3)%2==0;break;case 7:n=((e+r)%2+e*r%3)%2==0;break;default:throw"Assertion error"}!h[r][e]&&n&&(l[r][e]=!l[r][e])}}function C(){for(var t=0,r=0;r<_;r++){for(var e=[0,0,0,0,0,0,0],n=!1,i=0,o=0;o<_;o++)l[r][o]==n?5==++i?t+=p.PENALTY_N1:5<i&&t++:(p.addRunToHistory(i,e),!n&&p.hasFinderLikePattern(e)&&(t+=p.PENALTY_N3),n=l[r][o],i=1);p.addRunToHistory(i,e),n&&p.addRunToHistory(0,e),p.hasFinderLikePattern(e)&&(t+=p.PENALTY_N3)}for(o=0;o<_;o++){e=[0,0,0,0,0,0,0],n=!1;var a=0;for(r=0;r<_;r++)l[r][o]==n?5==++a?t+=p.PENALTY_N1:5<a&&t++:(p.addRunToHistory(a,e),!n&&p.hasFinderLikePattern(e)&&(t+=p.PENALTY_N3),n=l[r][o],a=1);p.addRunToHistory(a,e),n&&p.addRunToHistory(0,e),p.hasFinderLikePattern(e)&&(t+=p.PENALTY_N3)}for(r=0;r<_-1;r++)for(o=0;o<_-1;o++){(n=l[r][o])==l[r][o+1]&&n==l[r+1][o]&&n==l[r+1][o+1]&&(t+=p.PENALTY_N2)}var s=0;l.forEach(function(t){t.forEach(function(t){t&&s++})});var h=_*_;return t+=(Math.ceil(Math.abs(20*s-10*h)/h)-1)*p.PENALTY_N4}function v(t,r){return 0!=(t>>>r&1)}d(r),a(r),h=null,Object.defineProperty(this,"version",{value:c}),Object.defineProperty(this,"size",{value:_}),Object.defineProperty(this,"errorCorrectionLevel",{value:g}),Object.defineProperty(this,"mask",{value:r}),this.getPixel=function(t,r){var e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(t<I.qrBorder&&r<I.qrBorder)return!1;if(t>=_-I.qrBorder&&r<I.qrBorder)return!1;if(t<I.qrBorder&&r>=_-I.qrBorder)return!1;if(e){var n=I.qrBorder+2;_<=25&&n--;var i=(_-2*I.qrBorder-n)/2-1;return _<=25&&i++,!(t>I.qrBorder+i&&t<_-I.qrBorder-i-1&&r>I.qrBorder+i&&r<_-I.qrBorder-i-1)&&(0<=t&&t<_&&0<=r&&r<_&&l[r][t])}return l[r]&&l[r][t]},this.drawCanvas=function(t,r,e){if(t<=0||r<0)throw"Value out of range";var n=(_+2*r)*t;e.width=n,e.height=n;for(var i=e.getContext("2d"),o=-r;o<_+r;o++)for(var a=-r;a<_+r;a++)i.fillStyle=this.getPixel(a,o)?"#000000":"#FFFFFF",i.fillRect((a+r)*t,(o+r)*t,t,t)},this.getNeighbors=function(t,r,e){return{l:this.getPixel(t-1,r,e),r:this.getPixel(t+1,r,e),t:this.getPixel(t,r-1,e),b:this.getPixel(t,r+1,e),current:this.getPixel(t,r,e)}},this.toSvgString=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:128,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=e.isShowVkLogo,i=e.isShowBackground,o=e.backgroundColor||"#000",a=e.foregroundColor||"#F00";if("number"!=typeof t)throw new Error("Size should be a number");if("string"!=typeof r)throw new Error("Classname should be a string");for(var s=28.6,h=30.5,l=69.5,f=100,u=[],d=0,C=0,c=0,g=0,v=0;v<_;v++){for(var p=d=0;p<_;p++){c=p+d,d+=I.tileSize,g=v+C;var m,E=this.getNeighbors(p,v,n),w="";E.current?(w=!(w=E.l||E.r||E.t||E.b?"":"empty")&&E.l&&E.r||E.t&&E.b?"rect":"")||(w+=E.l?"l":E.r?"r":"",(w+=E.t?"t":E.b?"b":"")||(w="rect")):w=!(w=!(w=!(w=!w&&E.l&&E.t&&this.getPixel(p-1,v-1,n)?"n_lt":"")&&E.l&&E.b&&this.getPixel(p-1,v+1,n)?"n_lb":"")&&E.r&&E.t&&this.getPixel(p+1,v-1,n)?"n_rt":"")&&E.r&&E.b&&this.getPixel(p+1,v+1,n)?"n_rb":"",m='<use xlink:href="#'+w+'"/>',u.push('<g transform="translate('+c+","+g+')">'+m+"</g>")}C+=I.tileSize}var M="",R=(_-3*I.qrBorder)/2*I.tileSize+I.tileSize*I.qrBorder-10;_<=25&&(M="scale(0.85)",R+=50);var L=(_-I.qrBorder)*I.incTileSize;u.push('<path fill-rule="evenodd" transform="translate(0,0)" d="M600.001786,457.329333 L600.001786,242.658167 C600.001786,147.372368 587.039517,124.122784 581.464617,118.535383 C575.877216,112.960483 552.627632,99.9982143 457.329333,99.9982143 L242.670667,99.9982143 C147.372368,99.9982143 124.122784,112.960483 118.547883,118.535383 C112.972983,124.122784 99.9982143,147.372368 99.9982143,242.658167 L99.9982143,457.329333 C99.9982143,552.627632 112.972983,575.877216 118.547883,581.464617 C124.122784,587.027017 147.372368,600.001786 242.670667,600.001786 L457.329333,600.001786 C552.627632,600.001786 575.877216,587.027017 581.464617,581.464617 C587.039517,575.877216 600.001786,552.627632 600.001786,457.329333 Z M457.329333,0 C653.338333,0 700,46.6616668 700,242.658167 C700,438.667167 700,261.332833 700,457.329333 C700,653.338333 653.338333,700 457.329333,700 C261.332833,700 438.667167,700 242.670667,700 C46.6616668,700 0,653.338333 0,457.329333 C0,261.332833 0,352.118712 0,242.658167 C0,46.6616668 46.6616668,0 242.670667,0 C438.667167,0 261.332833,0 457.329333,0 Z M395.996667,200 C480.004166,200 500,220.008332 500,303.990835 C500,387.998334 500,312.001666 500,395.996667 C500,479.991668 480.004166,500 395.996667,500 C312.001666,500 387.998334,500 304.003333,500 C220.008332,500 200,479.991668 200,395.996667 C200,312.001666 200,350.906061 200,303.990835 C200,220.008332 220.008332,200 304.003333,200 C387.998334,200 312.001666,200 395.996667,200 Z" fill="'+a+'"/>'),u.push('<path fill-rule="evenodd" transform="translate('+L+',0)" d="M600.001786,457.329333 L600.001786,242.658167 C600.001786,147.372368 587.039517,124.122784 581.464617,118.535383 C575.877216,112.960483 552.627632,99.9982143 457.329333,99.9982143 L242.670667,99.9982143 C147.372368,99.9982143 124.122784,112.960483 118.547883,118.535383 C112.972983,124.122784 99.9982143,147.372368 99.9982143,242.658167 L99.9982143,457.329333 C99.9982143,552.627632 112.972983,575.877216 118.547883,581.464617 C124.122784,587.027017 147.372368,600.001786 242.670667,600.001786 L457.329333,600.001786 C552.627632,600.001786 575.877216,587.027017 581.464617,581.464617 C587.039517,575.877216 600.001786,552.627632 600.001786,457.329333 Z M457.329333,0 C653.338333,0 700,46.6616668 700,242.658167 C700,438.667167 700,261.332833 700,457.329333 C700,653.338333 653.338333,700 457.329333,700 C261.332833,700 438.667167,700 242.670667,700 C46.6616668,700 0,653.338333 0,457.329333 C0,261.332833 0,352.118712 0,242.658167 C0,46.6616668 46.6616668,0 242.670667,0 C438.667167,0 261.332833,0 457.329333,0 Z M395.996667,200 C480.004166,200 500,220.008332 500,303.990835 C500,387.998334 500,312.001666 500,395.996667 C500,479.991668 480.004166,500 395.996667,500 C312.001666,500 387.998334,500 304.003333,500 C220.008332,500 200,479.991668 200,395.996667 C200,312.001666 200,350.906061 200,303.990835 C200,220.008332 220.008332,200 304.003333,200 C387.998334,200 312.001666,200 395.996667,200 Z" fill="'+a+'"/>'),u.push('<path fill-rule="evenodd" transform="translate(0,'+L+')" d="M600.001786,457.329333 L600.001786,242.658167 C600.001786,147.372368 587.039517,124.122784 581.464617,118.535383 C575.877216,112.960483 552.627632,99.9982143 457.329333,99.9982143 L242.670667,99.9982143 C147.372368,99.9982143 124.122784,112.960483 118.547883,118.535383 C112.972983,124.122784 99.9982143,147.372368 99.9982143,242.658167 L99.9982143,457.329333 C99.9982143,552.627632 112.972983,575.877216 118.547883,581.464617 C124.122784,587.027017 147.372368,600.001786 242.670667,600.001786 L457.329333,600.001786 C552.627632,600.001786 575.877216,587.027017 581.464617,581.464617 C587.039517,575.877216 600.001786,552.627632 600.001786,457.329333 Z M457.329333,0 C653.338333,0 700,46.6616668 700,242.658167 C700,438.667167 700,261.332833 700,457.329333 C700,653.338333 653.338333,700 457.329333,700 C261.332833,700 438.667167,700 242.670667,700 C46.6616668,700 0,653.338333 0,457.329333 C0,261.332833 0,352.118712 0,242.658167 C0,46.6616668 46.6616668,0 242.670667,0 C438.667167,0 261.332833,0 457.329333,0 Z M395.996667,200 C480.004166,200 500,220.008332 500,303.990835 C500,387.998334 500,312.001666 500,395.996667 C500,479.991668 480.004166,500 395.996667,500 C312.001666,500 387.998334,500 304.003333,500 C220.008332,500 200,479.991668 200,395.996667 C200,312.001666 200,350.906061 200,303.990835 C200,220.008332 220.008332,200 304.003333,200 C387.998334,200 312.001666,200 395.996667,200 Z" fill="'+a+'"/>'),n&&u.push('<g style="width: 750px; height: 750px;" fill="none" fill-rule="evenodd" transform="translate('+R+","+R+") "+M+'">\n\' +\n          \'  <path fill="#4680C2" d="M253.066667,0 C457.466667,0 272.533333,0 476.933333,0 C681.333333,0 730,48.6666667 730,253.066667 C730,457.466667 730,272.533333 730,476.933333 C730,681.333333 681.333333,730 476.933333,730 C272.533333,730 457.466667,730 253.066667,730 C48.6666667,730 0,681.333333 0,476.933333 C0,272.533333 0,367.206459 0,253.066667 C0,48.6666667 48.6666667,0 253.066667,0 Z"/>\n\' +\n          \'    <path fill="#FFF" d="M597.816744,251.493445 C601.198942,240.214758 597.816746,231.927083 581.719678,231.927083 L528.490512,231.927083 C514.956087,231.927083 508.716524,239.08642 505.332448,246.981031 C505.332448,246.981031 478.263599,312.960647 439.917002,355.818719 C427.510915,368.224806 421.871102,372.172112 415.10389,372.172112 C411.720753,372.172112 406.822917,368.224806 406.822917,356.947057 L406.822917,251.493445 C406.822917,237.95902 402.895137,231.927083 391.615512,231.927083 L307.969678,231.927083 C299.511836,231.927083 294.425223,238.208719 294.425223,244.162063 C294.425223,256.99245 313.597583,259.951287 315.573845,296.043086 L315.573845,374.428788 C315.573845,391.614583 312.470184,394.730425 305.702972,394.730425 C287.658011,394.730425 243.763595,328.456052 217.730151,252.620844 C212.628223,237.881107 207.511068,231.927083 193.907178,231.927083 L140.678012,231.927083 C125.469678,231.927083 122.427826,239.08642 122.427826,246.981031 C122.427826,261.079625 140.473725,331.006546 206.452402,423.489903 C250.437874,486.648674 312.410515,520.885417 368.803012,520.885417 C402.638134,520.885417 406.823845,513.28125 406.823845,500.183098 L406.823845,452.447917 C406.823845,437.239583 410.029185,434.204421 420.743703,434.204421 C428.638315,434.204421 442.172739,438.151727 473.753063,468.603713 C509.843923,504.694573 515.79398,520.885417 536.094678,520.885417 L589.323845,520.885417 C604.532178,520.885417 612.136345,513.28125 607.749619,498.274853 C602.949226,483.318593 585.717788,461.619053 562.853283,435.89599 C550.446258,421.234166 531.837128,405.444943 526.197316,397.548454 C518.302704,387.399043 520.558441,382.88663 526.197316,373.864619 C526.197316,373.864619 591.049532,282.508661 597.816744,251.493445 Z"/>\' +\n          \'  </g>');var N=99*_,A="",B="translate(25,25)";if(i){var b=N/t*33;A='<rect x="0" width="'+N+'" height="'+N+'" rx="'+Math.ceil(N/7.11)+'" fill="'+o+'"/>',B="translate("+b+", "+b+") scale(0.756972112)"}var P="M0,0 L66,0 C84.7776815,-3.44940413e-15 100,15.2223185 100,34 L100,66 C100,84.7776815 84.7776815,100 66,100 L0,100 L0,0 Z",S="M0,0 L100,0 L100,66 C100,84.7776815 84.7776815,100 66,100 L0,100 L0,0 Z";return'<svg version="1.1" viewBox="0 0 '+N+" "+N+'" width="'+t+'px" height="'+t+'px"'+(r?' class="'+r+'"':"")+' xml:space="preserve" xmlns="http://www.w3.org/2000/svg">\n        <defs>\n            <rect id="rect" width="100" height="100" fill="'+a+'"/>\n            <path id="empty" d="M0,'+s+"v42.9C0,87.3,12.8,"+f+","+s+","+f+"h42.9c15.9,0,"+s+"-12.8,"+s+"-"+s+"V"+s+"C"+f+",12.7,87.2,0,71.4,0H"+s+" C12.8,0,0,12.8,0,"+s+'z" fill="'+a+'"/>\n            <path id="b" d="'+P+'" transform="rotate(-90 50 50)" fill="'+a+'"/>\n            <path id="r" d="'+P+'" transform="rotate(-180 50 50)" fill="'+a+'"/>\n            <path id="l" d="'+P+'" fill="'+a+'"/>\n            <path id="t" d="'+P+'" transform="rotate(90 50 50)" fill="'+a+'"/>\n            <path id="l" d="'+S+'" transform="rotate(-90 50 50)" fill="'+a+'"/>\n            <path id="lt" d="'+S+'" fill="'+a+'"/>\n            <path id="lb" d="'+S+'" transform="rotate(-90 50 50)" fill="'+a+'"/>\n            <path id="rb" d="'+S+'" transform="rotate(-180 50 50)" fill="'+a+'"/>\n            <path id="rt" d="'+S+'" transform="rotate(90 50 50)" fill="'+a+'"/>\n            <path id="n_lt" d="M'+h+",2V0H0v"+h+"h2C2,14.7,14.8,2,"+h+',2z" fill="'+a+'"/>\n            <path id="n_lb" d="M2,'+l+"H0V"+f+"h"+h+"v-2C14.7,98,2,85.2,2,"+l+'z" fill="'+a+'"/>\n            <path id="n_rt" d="M98,'+h+"h2V0H"+l+"v2C85.3,2,98,14.8,98,"+h+'z" fill="'+a+'"/>\n            <path id="n_rb" d="M'+l+",98v2H"+f+"V"+l+"h-2C98,85.3,85.2,98,"+l+',98z" fill="'+a+'"/>\n        </defs>\n        '+A+'\n        <g transform="'+B+'">\n          '+u.join("\n")+"\n        </g>\n      </svg>"}},this.QrCode.encodeText=function(t,r){var e=I.QrSegment.makeSegments(t);return this.encodeSegments(e,r)},this.QrCode.encodeBinary=function(t,r){var e=I.QrSegment.makeBytes(t);return this.encodeSegments([e],r)},this.QrCode.encodeSegments=function(t,r,e,n,i,o){if(null==e&&(e=m),null==n&&(n=E),null==i&&(i=-1),null==o&&(o=!0),!(m<=e&&e<=n&&n<=E)||i<-1||7<i)throw"Invalid value";var a,s;for(a=e;;a++){var h=8*p.getNumDataCodewords(a,r);if((s=I.QrSegment.getTotalBits(t,a))<=h)break;if(n<=a)throw"Data too long"}[this.Ecc.MEDIUM,this.Ecc.QUARTILE,this.Ecc.HIGH].forEach(function(t){o&&s<=8*p.getNumDataCodewords(a,t)&&(r=t)});var l=new d;if(t.forEach(function(t){l.appendBits(t.mode.modeBits,4),l.appendBits(t.numChars,t.mode.numCharCountBits(a)),t.getData().forEach(function(t){l.push(t)})}),l.length!=s)throw"Assertion error";h=8*p.getNumDataCodewords(a,r);if(l.length>h)throw"Assertion error";if(l.appendBits(0,Math.min(4,h-l.length)),l.appendBits(0,(8-l.length%8)%8),l.length%8!=0)throw"Assertion error";for(var f=236;l.length<h;f^=253)l.appendBits(f,8);for(var u=[];8*u.length<l.length;)u.push(0);return l.forEach(function(t,r){u[r>>>3]|=t<<7-(7&r)}),new this(a,r,u,i)};var p={getNumRawDataModules:function(t){if(t<m||E<t)throw"Version number out of range";var r=(16*t+128)*t+64;if(2<=t){var e=Math.floor(t/7)+2;r-=(25*e-10)*e-55,7<=t&&(r-=36)}return r},getNumDataCodewords:function(t,r){return Math.floor(p.getNumRawDataModules(t)/8)-p.ECC_CODEWORDS_PER_BLOCK[r.ordinal][t]*p.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][t]},addRunToHistory:function(t,r){r.pop(),r.unshift(t)},hasFinderLikePattern:function(t){var r=t[1];return 0<r&&t[2]==r&&t[4]==r&&t[5]==r&&t[3]==3*r&&Math.max(t[0],t[6])>=4*r}},m=1,E=40;function w(t,r){Object.defineProperty(this,"ordinal",{value:t}),Object.defineProperty(this,"formatBits",{value:r})}Object.defineProperty(this.QrCode,"MIN_VERSION",{value:m}),Object.defineProperty(this.QrCode,"MAX_VERSION",{value:E}),p.PENALTY_N1=3,p.PENALTY_N2=3,p.PENALTY_N3=40,p.PENALTY_N4=10,p.ECC_CODEWORDS_PER_BLOCK=[[null,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[null,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[null,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[null,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],p.NUM_ERROR_CORRECTION_BLOCKS=[[null,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[null,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[null,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[null,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],this.QrCode.Ecc={LOW:new w(0,1),MEDIUM:new w(1,0),QUARTILE:new w(2,3),HIGH:new w(3,2)},this.QrSegment=function(t,r,e){if(r<0||!(t instanceof n))throw"Invalid argument";e=e.slice(),Object.defineProperty(this,"mode",{value:t}),Object.defineProperty(this,"numChars",{value:r}),this.getData=function(){return e.slice()}},this.QrSegment.makeBytes=function(t){var r=new d;return t.forEach(function(t){r.appendBits(t,8)}),new this(this.Mode.BYTE,t.length,r)},this.QrSegment.makeNumeric=function(t){if(!this.NUMERIC_REGEX.test(t))throw"String contains non-numeric characters";for(var r=new d,e=0;e<t.length;){var n=Math.min(t.length-e,3);r.appendBits(parseInt(t.substring(e,e+n),10),3*n+1),e+=n}return new this(this.Mode.NUMERIC,t.length,r)},this.QrSegment.makeAlphanumeric=function(t){if(!this.ALPHANUMERIC_REGEX.test(t))throw"String contains unencodable characters in alphanumeric mode";var r,e=new d;for(r=0;r+2<=t.length;r+=2){var n=45*i.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r));n+=i.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r+1)),e.appendBits(n,11)}return r<t.length&&e.appendBits(i.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r)),6),new this(this.Mode.ALPHANUMERIC,t.length,e)},this.QrSegment.makeSegments=function(t){return""==t?[]:this.NUMERIC_REGEX.test(t)?[this.makeNumeric(t)]:this.ALPHANUMERIC_REGEX.test(t)?[this.makeAlphanumeric(t)]:[this.makeBytes(function(t){t=encodeURI(t);for(var r=[],e=0;e<t.length;e++)"%"!=t.charAt(e)?r.push(t.charCodeAt(e)):(r.push(parseInt(t.substring(e+1,e+3),16)),e+=2);return r}(t))]},this.QrSegment.makeEci=function(t){var r=new d;if(t<0)throw"ECI assignment value out of range";if(t<128)r.appendBits(t,8);else if(t<16384)r.appendBits(2,2),r.appendBits(t,14);else{if(!(t<1e6))throw"ECI assignment value out of range";r.appendBits(6,3),r.appendBits(t,21)}return new this(this.Mode.ECI,0,r)},this.QrSegment.getTotalBits=function(t,r){for(var e=0,n=0;n<t.length;n++){var i=t[n],o=i.mode.numCharCountBits(r);if(i.numChars>=1<<o)return 1/0;e+=4+o+i.getData().length}return e};var i={};function n(t,r){Object.defineProperty(this,"modeBits",{value:t}),this.numCharCountBits=function(t){return r[Math.floor((t+7)/17)]}}function M(t){if(t<1||255<t)throw"Degree out of range";for(var r=[],e=0;e<t-1;e++)r.push(0);r.push(1);var n=1;for(e=0;e<t;e++){for(var i=0;i<r.length;i++)r[i]=M.multiply(r[i],n),i+1<r.length&&(r[i]^=r[i+1]);n=M.multiply(n,2)}this.getRemainder=function(t){var n=r.map(function(){return 0});return t.forEach(function(t){var e=t^n.shift();n.push(0),r.forEach(function(t,r){n[r]^=M.multiply(t,e)})}),n}}function d(){Array.call(this),this.appendBits=function(t,r){if(r<0||31<r||t>>>r!=0)throw"Value out of range";for(var e=r-1;0<=e;e--)this.push(t>>>e&1)}}this.QrSegment.NUMERIC_REGEX=/^[0-9]*$/,this.QrSegment.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",this.QrSegment.Mode={NUMERIC:new n(1,[10,12,14]),ALPHANUMERIC:new n(2,[9,11,13]),BYTE:new n(4,[8,16,16]),KANJI:new n(8,[8,10,12]),ECI:new n(7,[0,0,0])},this.createQR=function(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:128,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},i=o.QrSegment.makeSegments(t);return o.QrCode.encodeSegments(i,o.QrCode.Ecc.QUARTILE,1,40,-1,!0).toSvgString(r,e,n)},M.multiply=function(t,r){if(t>>>8!=0||r>>>8!=0)throw"Byte out of range";for(var e=0,n=7;0<=n;n--)e=e<<1^285*(e>>>7),e^=(r>>>n&1)*t;if(e>>>8!=0)throw"Assertion error";return e},(d.prototype=Object.create(Array.prototype)).constructor=d};return I});
